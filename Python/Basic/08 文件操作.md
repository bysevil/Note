| **Mode(方式)** | **意义**                             |
| -------------- | ------------------------------------ |
| "r"            | 打开一个用于读取的文本文件           |
| "w"            | 创建或打开一个用于写入的文本文件     |
| "a"            | 追加内容到一个文本文件               |
| b              | 以二进制打开，与前三种组合使用       |
| +              | 以读写方式打开文件，以前三种组合使用 |

```python
fp = open('D:/text.txt', 'a+', encoding='UTF-8') #以a+方式，UTF-8编码打开路径上的文件
print('hello World', file=fp) 
fp.close() #关闭文件
```
> - 通过w方式打开时，就是你还什么都没做，原有文件内容也已经被清空。
> - 在对文件操作时，必须保证程序操作时使用的编码和文件的保存编码相同

## 操作文件
### 写操作
```python
fp.write('内容')
```
- 通过r方式打开文件时，会报错
- 通过w方式打开文件时，会将文件内容替换为write写入的内容
	- 连续写入时，后面的write会将内容追加到前一个write后
- 通过a方式打开文件时，会在原文件后添加写入的内容
### 读文件
使用read指定在文件中读取n个字符的内容
```python
fp.read(n)
```
使用for in 循环按行获取文件内容
```python
for line in fp:
	pass
```
使用readlines方法获取文件全部内容，并将每行当作一个列表元素，将内容赋值给列表
```python
lines = fp.readlines()
```
> 对硬盘操作的次数越多，效率越慢，所以readlines比for in 更高效。但是单次读取整个文件可能会导致内存不够。所以在大文件时，for in 优于 readlines
## with语句

### 上下文管理器

如果一个类，其中实现了特殊方法`__enter__`和`__exit__`称作该对象实现了上下文协议

该类的实例对象，称作上下文管理器

`open()`就是一个上下文管理器对象

```python
with open('D:/text.txt', 'a+', encoding='UTF-8') as fp:
	pass
```

`with as`将在运行 时自动运行`__enter_`方法，结束时自动运行`__exit__`方法

这样可以确保无论因为何种原因退出`with as`语句，都可以确保文件被正确关闭，资源正确释放