## 字符串的驻留机制

字符串的驻留机制：若两个字符串的值相同，那么只会开辟一片空间。两个字符串变量同时指向这个空间。

> 对其他变量也适用，内置数据结构中只有元组变量适用

### 驻留的条件

1. 字符串长度为0或1的短字符串
2. 符合标识符规则的长字符串
3. [-5,256]之间的整数数字

> 驻留在编译时进行，而非运行时，所以类似
> ```python
> s1 = 'a'+'b'
> s2 = 'ab'
> ```
> 虽然s1和s2的值相同，但不驻留

### 强制驻留字符串

```python
s1=sys.intern(s2)
```

### 驻留机制的优缺点

避免频繁创建和销毁同值的字符串，提升效率和节约内存

但对字符串进行拼接和修改时比较影响性能

> 字符串拼接时使用join方法
>
> join方法是先计算出所有字符中的长度，然后再拷贝，只new一次对象，效率高于`+`

## 字符串常用操作
 使用`len()`查询字符串长度
 ```python
 len(str)
```
使用`[]`获取字符串指定位置字符（以0开始）
```python
print(str[0])
```
### 查询

```python
index()	#查找子串第一次出现的位置，不存在抛出ValueError
rindex()	#查找子串最后一次出现的位置，不存在抛出ValueError
find()	#查找子串第一次出现的位置，不存在返回-1
rfind()	#查找子串最后一次出现的位置，不存在返回-1
```

### 大小写转换

```python
uppper()	#全部大写
lower()	#全部小写
swapcase()	#大写变小写，小写变大写
capitalize()	#第一个字母大写
title()	#每个单词首字母大写
```

### 字符串对齐

```python
center()#居中对齐
ljust()	#左对齐，
rjust()	#右对齐。
#这三个方法都有两个参数，第一个参数指定宽度，第二个指定填充符。第二个参数是可选的
zfill()	#右对齐。左边用0填充。只接收一个参数用来指定字符串的宽度。
```

> 如果指定的字符串宽度小于字符串的长度，则返回字符串本身

### 字符串的劈分

```python
split(sep='',maxsplit=1)	#从左边开始
replit()	#从右边开始
```

两者的参数相同，返回的值都是一个列表

可以通过sep指定劈分的劈分符，默认劈分符是空格

通过maxsplit指定最大劈分次数，达到最大劈分次数后剩下的字符串单独作为一个部分

### 字符串的判断

```python
isidentifier()	#是否为合法的标识符
isspace()	#是否全部由白字符组成（回车，换行，制表符）
isalpha()	#是否全部由字母组成
isdecimal()	#是否全部为十进制数字
isnumeric()	#是否全由数字组成
isalnum()	#是否全由字母和数字组成
str1.startswith(str2) #str2的前缀是否是str1
```

### 替换与合并

```python
s = s1.replace()	#第一个参数指定被替换的子串，第二个参数指定替换后的子串，迪桑参数指定最大替换次数。替换完成后生成新子串，原字符串不发生变换
lst = ['a','b']
s = 'str'.join(lst)	#通过join将元组，列表，集合中的元素合并为一个字符串，通过str指定连接符
```

### 比较

字符串之间可以使用比较运算符进行比较（如`>`,`=`等)

比较时从左自右逐个比较字符，比较时比较其原始值（ASCLL码）

可以使用ord()函数获得其原始值

### 切片

```python
s1[1:5:1]
s1[:5]
s1[1:]
s1[::2]	#和列表切片语法和作用相同
```

## 格式化字符串

```python
name = '张三'
age = 20
print('我叫%s,今年%d岁' % (name,age))	#元组
print('我叫{0},今年{1}岁',format(name,age))	#format方法
print(f'我叫{name},今年{age}岁')	#f-string方法
```

## 字符串的编码和解码

```python
s2=s1.encode(encoding = 'UTF-8')	#将s1编码为UTF-8格式，并赋给s2
s2.decode(encoding = 'UTF-8')	#将S2解码为字符串类型
```

# 字符串与ASCLL码互转

```py
ord('a')	#转换字符串为ASCLL
chr(97)		#转换ASCLL码为字符串
```

